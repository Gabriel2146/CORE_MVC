<!DOCTYPE html>
<html>
<head>
    <title>Gestión de Ejercicios - Administrador</title>
</head>
<body>
    <h1>Gestión de Ejercicios</h1>
    <p><a href="{% url 'users:dashboard' %}">Volver al Dashboard</a></p>
    <p><a href="{% url 'users:admin_exercise_create' %}">Crear Nuevo Ejercicio</a></p>
    <p><a href="{% url 'users:sync_wger_exercises' %}">Sincronizar Ejercicios desde wger</a></p>
    <table border="1" cellpadding="5" cellspacing="0">
        <thead>
            <tr>
                <th>ID wger</th>
                <th>Nombre</th>
                <th>Descripción</th>
                <th>Categoría</th>
                <th>Equipamiento</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody>
            {% for exercise in exercises %}
            <tr>
                <td>{{ exercise.obj.wger_id }}</td>
                <td>{{ exercise.obj.name }}</td>
                <td>{{ exercise.obj.description|safe }}</td>
                <td>{{ exercise.obj.category }}</td>
                <td>{{ exercise.obj.equipment }}</td>
                <td>
                    {% if exercise.type == 'local' %}
                        <a href="{% url 'users:admin_exercise_edit' exercise.obj.pk %}?type=local">Editar</a> |
                        <a href="{% url 'users:admin_exercise_delete' exercise.obj.pk %}?type=local">Eliminar</a>
                    {% else %}
                        <!-- Optionally allow editing wger exercises, but usually only delete is allowed -->
                        <span style="color:gray;">Editar</span> |
                        <a href="{% url 'users:admin_exercise_delete' exercise.obj.pk %}?type=wger">Eliminar</a>
                    {% endif %}
                </td>
            </tr>
            {% empty %}
            <tr><td colspan="6">No hay ejercicios disponibles.</td></tr>
            {% endfor %}
        </tbody>
    </table>
</body>
</html>
